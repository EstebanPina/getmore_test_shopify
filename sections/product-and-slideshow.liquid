{% schema %}
  {
    "name": "Slideshow with products",
    "settings": [],
    "blocks": [
    {
      "type": "slideshow",
      "name": "Slideshow",
      "settings": []
    },
      {
        "type": "featured-products",
        "name": "Featured Products",
        "settings": []
      }
    ],
    "presets": [
      {
        "name": "SlideShow With products",
        "category": "Custom"
      }
    ]
  }
  {% endschema %}
  {%- liquid
  assign products_to_display = section.settings.collection.all_products_count

  if section.settings.collection.all_products_count > section.settings.products_to_show
    assign products_to_display = section.settings.products_to_show
    assign more_in_collection = true
  endif

  assign columns_mobile_int = section.settings.columns_mobile | plus: 0
  assign show_mobile_slider = false
  if section.settings.swipe_on_mobile and products_to_display > columns_mobile_int
    assign show_mobile_slider = true
  endif

  assign show_desktop_slider = false
  if section.settings.enable_desktop_slider and products_to_display > section.settings.columns_desktop
    assign show_desktop_slider = true
  endif
-%}
  <div class="custom-slideshow-featured-products">
    <!-- Slideshow -->
    <div class="slideshow">
      {% for block in section.blocks %}
        {% if block.type == 'slideshow' %}
          <!-- Código para el slideshow -->
          <div class="slideshow-container">
            <!-- Aquí va el código del slideshow -->
          </div>
        {% endif %}
      {% endfor %}
    </div>
    
    <!-- Featured Products -->
    <div class="featured-products">
      {% for block in section.blocks %}
        {% if block.type == 'featured-products' %}
          <!-- Código para los productos destacados -->
          <div class="featured-products-container">
            {% for product in section.settings.collection.products limit: section.settings.products_to_show %}
              <div class="product-card">
                <a href="{{ product.url }}">
                  <img width="100%" height="200px" src="{{ product.featured_image | img_url: 'medium' }}" alt="{{ product.title }}">
                  <p>{{ product.title }}</p>
                  <p>{{ product.price | money }}</p>
                </a>
              </div>
            {% endfor %}
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
  
  
  {%- style -%}
  .custom-slideshow-featured-products {
    display: flex;
    justify-content: space-between;
  }
  
  .slideshow, .featured-products {
    width: 48%;
  }
  
  .featured-products-container {
    display: flex;
    flex-wrap: wrap;
  }
  
  .product-card {
    width: 100%;
    margin-bottom: 20px;
  }
  
  .product-card img {
    width: 100%;
    height: auto;
  }
  {%- endstyle -%}